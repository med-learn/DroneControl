var arDrone = require('ar-drone');
var control = arDrone.createUdpControl();
var start   = Date.now();

//var ref  = {};
//var pcmd = {};

console.log('Recovering from emergency mode if there was one ...');
control.ref.emergency = true;
setTimeout(function() {
  console.log('Takeoff ...');

  control.ref.emergency = false;
  control.ref.fly       = true;

}, 1000);

setTimeout(function() {
  console.log('Turning clockwise ...');

  //control.pcmd.clockwise = 0.5;

}, 6000);

setTimeout(function() {
  console.log('Turning clockwise ...');

  //control.pcmd();
  
}, 7000);
/*
setTimeout(function() {
  console.log('Landing ...');

  control.ref.fly = false;
  control.pcmd = {};
}, 10000);
*/

setInterval(function() {
  console.log('set setInterval');
  control.ref(ref);
  control.pcmd();
  control.flush();
}, 30);